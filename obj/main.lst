ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 .area _DATA
                              2 .area _CODE
                              3 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 2.
Hexadecimal [16-Bits]



                              4 .include "hero.h.s"
                              1 ;;================================================
                              2 ;;================================================
                              3 ;; HERO PUBLIC FUNCTIONS
                              4 ;;================================================
                              5 ;;================================================
                              6 
                              7 .globl hero_erase
                              8 .globl hero_draw
                              9 .globl hero_update
                             10 .globl hero_getPtrHL
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 3.
Hexadecimal [16-Bits]



                              5 .include "cpcFunctions.h.s"
                              1 ;;================================================
                              2 ;;================================================
                              3 ;; CPCTELERA PUBLIC FUNCTIONS
                              4 ;;================================================
                              5 ;;================================================
                              6 
                              7 .globl cpct_waitVSYNC_asm
                              8 .globl cpct_disableFirmware_asm
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 4.
Hexadecimal [16-Bits]



                              6 .include "obstacles.h.s"
                              1 ;;================================================
                              2 ;;================================================
                              3 ;; OBSTACLES PUBLIC FUNCTIONS
                              4 ;;================================================
                              5 ;;================================================
                              6 
                              7 .globl obstacle_draw
                              8 .globl obstacle_update
                              9 .globl obstacle_erase
                             10 .globl obstacle_checkCollision
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 5.
Hexadecimal [16-Bits]



                              7 
                              8 ;;==========================================================================
                              9 ;; Main program entry
                             10 ;;==========================================================================
   0000                      11 _main::
                             12     ;; Disable firmware to prevent it from interfering with string drawing
   0000 CD 00 00      [17]   13     call cpct_disableFirmware_asm
                             14 
   0003 CD 00 00      [17]   15     call hero_erase                     ;; Erases the hero
   0006 CD 00 00      [17]   16     call obstacle_erase                 ;; Erases the obstacle  
                             17 
   0009 CD 00 00      [17]   18     call hero_update                    ;; Updates the hero
   000C CD 00 00      [17]   19     call obstacle_update                ;; Updates the obstacle
                             20     
                             21     ;;;;;;;;; borrar :OOOOOOOO ;;;;;;;
                             22     ;; de momento pintamos el valor de la llamada a obstacle
   000F CD 00 00      [17]   23     call hero_getPtrHL
   0012 CD 00 00      [17]   24     call obstacle_checkCollision
                             25     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             26 
   0015 32 00 C0      [13]   27     ld (0xC000), a
                             28 
   0018 CD 00 00      [17]   29     call hero_draw                      ;; Draw the hero
   001B CD 00 00      [17]   30     call obstacle_draw                  ;; Draw the obstacle
                             31 
   001E CD 00 00      [17]   32     call cpct_waitVSYNC_asm             ;; Wait for raster
                             33 
   0021 18 DD         [12]   34     jr    _main
